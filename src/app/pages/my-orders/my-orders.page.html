<ion-header>
  <ion-toolbar *ngIf="!showSearchBar" color="primary">
    <ion-buttons slot="end">
      <ion-button (click)="toggleSearchBar()">
        <ion-icon name="search-outline" slot="icon-only"></ion-icon>
      </ion-button>
      <ion-button>
        <ion-icon name="funnel-outline" slot="icon-only"></ion-icon>
      </ion-button>
    </ion-buttons>
    <ion-title>Commandes</ion-title>
  </ion-toolbar>

  <ion-searchbar showCancelButton="always" (ionChange)="applyFilter($event)" *ngIf="showSearchBar" (ionClear)="toggleSearchBar()" placeholder="chercher une cmd"></ion-searchbar>
</ion-header>

<ion-content>

  <ion-refresher slot="fixed" (ionRefresh)="onRefresh($event)">
    <ion-refresher-content refreshingSpinner="circles"></ion-refresher-content>
  </ion-refresher>
  
  <ion-list lines="full">

    <ion-item-sliding *ngFor="let order of dataSource.filteredData">

      <ion-item (click)="onDetail(order)">
        <ion-label>
          <h2>{{ order.client.code }} -- {{ order.client.ets | uppercase }}</h2>
          <p>Zone. {{ order.client.zone }} / Q. {{ order.client.quartier }} / Av. {{ order.client.avenue}}</p>
          <p>Gerant. {{ order.client.gerant }} -- Conatact. {{ order.client.contact }}</p>
          <p>Date : {{ formatService.localDateCourt(order.date) | uppercase }}</p>
        </ion-label>
      </ion-item>
  
      <ion-item-options side="end">
        <ion-item-option (click)="onCancel(order)" color="danger"><ion-icon name="trash-outline" slot="icon-only"></ion-icon></ion-item-option>
        <ion-item-option (click)="onEdit(order)" color="dark"><ion-icon name="create-outline" slot="icon-only"></ion-icon></ion-item-option>
        <!-- <ion-item-option color="success"><ion-icon name="eye-outline" slot="icon-only"></ion-icon></ion-item-option> -->
      </ion-item-options>
    </ion-item-sliding>

  </ion-list>
</ion-content>
